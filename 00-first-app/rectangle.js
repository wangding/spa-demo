const q=document.querySelector,$=q.bind(document);let $width=$("#rectangle-width"),$height=$("#rectangle-height"),$btnCalc=$("#rectangle-calc");function roundFractional(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function validate(e){var t=$(e),a=$(e+"-validate"),n=$(e).getAttribute("data-label");return""===t.value?(a.innerHTML=n+"不能为空！",t.select(),!1):/^-?(0|[1-9]\d*)(\.\d*)?([eE][+-]?\d+)?$/.test(t.value)?Number(t.value)<0?(a.innerHTML=n+"必须大于零",t.select(),!1):(a.innerHTML="",!0):(a.innerHTML=n+"必须是数值",t.select(),!1)}$btnCalc.onclick=()=>{if(!validate("#rectangle-width")||!validate("#rectangle-height"))return;let e=Number($width.value),t=Number($height.value),a=roundFractional(2*e+2*t,2),n=roundFractional(e*t,2);$("#rectangle-perimeter").value=a,$("#rectangle-area").value=n},$width.onblur=()=>{validate("#rectangle-width")},$height.onblur=()=>{validate("#rectangle-height")};